<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Steer</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 1. Steering Wheel (Minimal Input Bar) -->
    <div id="steering-wheel">
        <button id="toggle-details" class="action-btn" title="Toggle Dashboard">‚ò∞</button>
        <input type="text" id="goal-input" placeholder="How can I help you today?" autofocus />
        <button id="run-btn" class="action-btn active">‚ûú</button>
    </div>

    <!-- 2. Details Panel (Hidden by default) -->
    <div id="details-panel">
        <nav class="tabs">
            <button class="tab-btn active" data-tab="chat">Live Logs</button>
            <button class="tab-btn" data-tab="dashboard">Dashboard</button>
            <button class="tab-btn" data-tab="routines">Routines</button>
            <div style="flex:1"></div>
            <button id="settings-btn" class="tab-btn">‚öôÔ∏è</button>
        </nav>

        <!-- Tab: Chat / Logs -->
        <div id="content-chat" class="tab-content active">
            <div id="log-container">
                <!-- Logs injected here -->
            </div>
        </div>

        <!-- Tab: Dashboard -->
        <div id="content-dashboard" class="tab-content">
            <div class="dashboard-grid">
                <div class="stat-card">
                    <h3>Focus Time</h3>
                    <p id="stat-time">0m</p>
                </div>
                <div class="stat-card">
                    <h3>Actions</h3>
                    <p id="stat-sessions">0</p>
                </div>
            </div>
            <div class="section-header" style="margin-top:1.5rem">
                <h3>‚ö°Ô∏è AI Suggestions</h3>
                <button id="refresh-dash" class="btn-time">‚Üª</button>
            </div>
            <div id="rec-list" class="rec-list"></div>
        </div>

        <!-- Tab: Routines -->
        <div id="content-routines" class="tab-content">
            <div class="section-header">
                <h3>Active Automations</h3>
                <button id="refresh-routines" class="btn-time">‚Üª</button>
            </div>
            <div id="routine-list" class="rec-list">
                <div class="empty-state">No routines yet.</div>
            </div>
        </div>
    </div>

    <!-- Settings Modal (Glass) -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button id="close-settings" class="action-btn">√ó</button>
            </div>
            <div class="modal-body">
                <label>Telegram Bot Token</label>
                <input type="password" id="cfg-telegram-token" placeholder="Token..." />

                <label>Analyer Engine</label>
                <div class="setting-row">
                    <span>Active Pattern Detection</span>
                    <label class="switch">
                        <input type="checkbox" id="cfg-analyzer-enabled" checked disabled>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="modal-footer" style="margin-top:1rem">
                <button id="save-settings"
                    style="width:100%; padding:0.8rem; background: var(--accent-color); color:white; border:none; border-radius:8px;">Save
                    Changes</button>
            </div>
        </div>
    </div>

    <script type="module" src="/main.js"></script>
</body>

</html>
<div id="content-chat" class="tab-content active">
    <div id="app-chat-container">
        <div id="log-container"></div>
        <div class="chat-input-area">
            <input type="text" id="goal-input" placeholder="What should I do? (e.g., 'Check emails')" autofocus />
            <button id="run-btn">Run</button>
        </div>
    </div>
</div>

<div id="content-dashboard" class="tab-content">
    <div class="dashboard-grid">
        <!-- Stats -->
        <div class="stats-row">
            <div class="stat-card">
                <h3>Total Sessions</h3>
                <p id="stat-sessions">0</p>
            </div>
            <div class="stat-card">
                <h3>Focus Time</h3>
                <p id="stat-time">0m</p>
            </div>
            <div class="stat-card">
                <h3>In-Progress</h3>
                <p id="stat-pending">0</p>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="section-header">
            <h2>‚ö°Ô∏è AI Suggestions</h2>
            <button id="refresh-dash">Refresh</button>
        </div>
        <div id="rec-list" class="rec-list">
            <div class="empty-state">No suggestions yet.</div>
        </div>
    </div>
</div>

<!-- Routines Tab -->
<div id="content-routines" class="tab-content">
    <div class="dashboard-grid">
        <div class="section-header">
            <h2>ü§ñ My Routines</h2>
            <button id="refresh-routines">Refresh</button>
        </div>
        <div id="routine-list" class="rec-list">
            <div class="empty-state">No active routines.</div>
        </div>
    </div>
</div>

<!-- Settings Modal -->
<div id="settings-modal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Settings</h2>
            <button id="close-settings">√ó</button>
        </div>
        <div class="modal-body">
            <label>Telegram Bot Token</label>
            <input type="password" id="cfg-telegram-token" placeholder="12345:ABCDE..." />

            <label>Telegram User ID</label>
            <input type="text" id="cfg-telegram-user" placeholder="12345678" />

            <label>LLM API Key (Mistral)</label>
            <input type="password" id="cfg-mistral-key" placeholder="..." />

            <hr style="border:0; border-top:1px solid #333; margin: 1rem 0;">

            <div class="setting-row">
                <span>Analysis Engine (Privacy)</span>
                <label class="switch">
                    <input type="checkbox" id="cfg-analyzer-enabled" checked disabled>
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
        <div class="modal-footer">
            <button id="save-settings" style="width:100%">Save config</button>
        </div>
    </div>
</div>

<script type="module" src="/main.js"></script>
</body>

</html>