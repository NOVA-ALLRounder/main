# ğŸ”¬ ììœ¨ ê³¼í•™ ë°œê²¬ ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ ê¸°íšì„œ

> **í”„ë¡œì íŠ¸ëª…**: Virtual Science Lab (VSL)  
> **ë²„ì „**: 1.0  
> **ì‘ì„±ì¼**: 2026-01-16

---

## 1. í•µì‹¬ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ëª©í‘œ
ì‚¬ìš©ìì˜ **ê°€ì„¤ ë˜ëŠ” ì§ˆë¬¸**ì„ ì…ë ¥ë°›ì•„ â†’ ë¬¸í—Œ ë¶„ì„ â†’ ë°©ë²•ë¡  ì„¤ê³„ â†’ ê°€ìƒ ì‹¤í—˜ ìˆ˜í–‰ â†’ í•™ìˆ  ë³´ê³ ì„œ ìë™ ìƒì„±ê¹Œì§€ **ììœ¨ ìˆ˜í–‰**í•˜ëŠ” AI ì—°êµ¬ ë™ë£Œ ì‹œìŠ¤í…œ

### 1.2 í•µì‹¬ ì°¨ë³„ì 
| ê¸°ì¡´ ì‹œìŠ¤í…œ | ë³¸ ì‹œìŠ¤í…œ |
|------------|----------|
| ë‹¨ìˆœ QA (ê²€ìƒ‰ í›„ ìš”ì•½) | **ê°€ìƒ ì‹¤í—˜ ìˆ˜í–‰** (ì½”ë“œ ìƒì„± + ì‹¤í–‰) |
| ì¼íšŒì„± ì‘ë‹µ | **ì§€ì‹ ì¶•ì ** (DBì— ê²°ê³¼ ì €ì¥ â†’ ì¬í™œìš©) |
| ìˆ˜ë™ ì—°êµ¬ í”„ë¡œì„¸ìŠ¤ | **ììœ¨ ìˆœí™˜** (Human-in-the-Loopìœ¼ë¡œ ë°©í–¥ë§Œ ì¡°ì •) |

---

## 2. ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš°

```mermaid
flowchart TD
    A[/"ê°€ì„¤ ë˜ëŠ” ì§ˆë¬¸ ì…ë ¥"/] --> B{ì˜ë„ ë¶„ë¥˜}
    B -->|ì§ˆë¬¸| C[ë¬¸í—Œ ê²€ìƒ‰ â†’ ì‹¤í˜„ ê°€ëŠ¥ì„± ë¦¬í¬íŠ¸]
    B -->|ê°€ì„¤| D{ë…ì°½ì„± ê²€ì‚¬}
    D -->|ê¸°ì¡´ ì—°êµ¬ ì¡´ì¬| E[í•´ë‹¹ ì—°êµ¬ ìš”ì•½ ì œê³µ]
    D -->|ë…ì°½ì | F[3ê°€ì§€ ê²€ì¦ ë°©ë²•ë¡  ì œì•ˆ]
    F --> G["ì‚¬ìš©ì ì„ íƒ (Human-in-the-Loop)"]
    G --> H[ê°€ìƒ ì‹¤í—˜ ìˆ˜í–‰]
    H --> I[ê²°ê³¼ ë³´ê³ ì„œ ìƒì„±]
    I --> J[(DB ì¶•ì )]
    J --> K[ì¶•ì ëœ ê²°ê³¼ â†’ ë…¼ë¬¸ ì‘ì„±]
```

---

## 3. ë©€í‹° ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜

### 3.1 Global State Schema
```python
class ScientificState(TypedDict):
    user_input: str              # ì›ë³¸ ì…ë ¥
    domain: str                  # ì—°êµ¬ ë¶„ì•¼ (ë¬¼ë¦¬í•™, ìƒë¬¼í•™ ë“±)
    intent: Literal["hypothesis", "question"]
    literature_context: List[Dict]  # ê²€ìƒ‰ëœ ë…¼ë¬¸ë“¤
    novelty_score: float         # ë…ì°½ì„± ì ìˆ˜ (0.0~1.0)
    proposed_methods: List[Dict] # ì œì•ˆëœ 3ê°€ì§€ ë°©ë²•ë¡ 
    selected_method: int         # ì‚¬ìš©ì ì„ íƒ ì¸ë±ìŠ¤
    code_repository: Dict[str, str]  # ìƒì„±ëœ ì½”ë“œ
    execution_logs: str          # ì‹¤í–‰ ê²°ê³¼
    figures: List[Path]          # ìƒì„±ëœ ì°¨íŠ¸/ì´ë¯¸ì§€
    final_report_pdf: Path       # ìµœì¢… PDF
```

### 3.2 ì—ì´ì „íŠ¸ êµ¬ì„± (6ê°œ)

| Agent | ì—­í•  | LLM Source | ì£¼ìš” ë„êµ¬ |
|-------|------|-----------|----------|
| **Router** | ì˜ë„ ë¶„ë¥˜ + ë„ë©”ì¸ ê¸°ë°˜ ë¶„ê¸° | `claude_code` | Zero-Shot Classifier |
| **Librarian** | í•™ìˆ  ë¬¸í—Œ ê²€ìƒ‰ + RAG | API ì§ì ‘ í˜¸ì¶œ | Semantic Scholar, ArXiv |
| **PI** | ë…ì°½ì„± í‰ê°€ + ë°©ë²•ë¡  ì„¤ê³„ | `claude_code` | Vector Similarity |
| **Engineer** | ì½”ë“œ ìƒì„± + ê°€ìƒ ì‹¤í—˜ | `codex` | Docker Sandbox |
| **Critic** | ë…¼ë¦¬ ê²€ì¦ + í™˜ê° ê°ì§€ | `claude_code` | Peer Review Sim |
| **Author** | IMRAD í˜•ì‹ ë³´ê³ ì„œ ì‘ì„± | `claude_code` | LaTeX/PDF Generator |

---

## 4. í•µì‹¬ ê¸°ìˆ  êµ¬í˜„

### 4.1 ì§€ì‹ íšë“ ì—”ì§„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         External APIs              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Semantic â”‚  â”‚  ArXiv   â”‚  ...   â”‚
â”‚  â”‚ Scholar  â”‚  â”‚   API    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚
        â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL + pgvector            â”‚
â”‚   (ë²¡í„° ì„ë² ë”© + ë©”íƒ€ë°ì´í„° ì €ì¥)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ê°€ìƒ ì‹¤í—˜ í™˜ê²½ (Sandbox)
- **Docker ì»¨í…Œì´ë„ˆ**: ê²©ë¦¬ëœ Python í™˜ê²½
- **Self-Healing Loop**: ì—ëŸ¬ ë°œìƒ ì‹œ ìë™ ìˆ˜ì • (ìµœëŒ€ 5íšŒ)
- **ë„ë©”ì¸ë³„ ë¼ì´ë¸ŒëŸ¬ë¦¬**:
  - ë¬¼ë¦¬í•™: `scipy`, `numpy`, `fenics`
  - ìƒë¬¼í•™: `biopython`, `rdkit`
  - ë°ì´í„°ê³¼í•™: `pandas`, `scikit-learn`

### 4.3 ë³´ê³ ì„œ ìƒì„±
- **IMRAD êµ¬ì¡°**: Introduction â†’ Methods â†’ Results â†’ Discussion
- **LaTeX ë³€í™˜**: ìˆ˜ì‹ ë° ë ˆì´ì•„ì›ƒ ì „ë¬¸ì„± í™•ë³´
- **ë¹„í‰ê°€ ê²€í† **: Reviewer 2 í˜ë¥´ì†Œë‚˜ë¡œ í’ˆì§ˆ ê²€ì¦

---

## 5. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- ì—°êµ¬ ì„¸ì…˜
CREATE TABLE research_sessions (
    id UUID PRIMARY KEY,
    user_query TEXT NOT NULL,
    domain VARCHAR(50),
    intent VARCHAR(20),  -- 'hypothesis' or 'question'
    status VARCHAR(20),  -- 'processing', 'completed', 'failed'
    created_at TIMESTAMP DEFAULT NOW()
);

-- ë¬¸í—Œ ì§€ì‹ ë² ì´ìŠ¤
CREATE TABLE literature_knowledge (
    id UUID PRIMARY KEY,
    title TEXT,
    abstract TEXT,
    embedding vector(1536),  -- ë²¡í„° ì„ë² ë”©
    source_api VARCHAR(20)
);

-- ì‹¤í—˜ ê²°ê³¼
CREATE TABLE experiment_results (
    session_id UUID REFERENCES research_sessions(id),
    methodology TEXT,
    code_snippet TEXT,
    execution_log TEXT,
    report_path TEXT,
    report_embedding vector(1536)
);
```

---

## 6. êµ¬í˜„ ë¡œë“œë§µ

| ì£¼ì°¨ | ë§ˆì¼ìŠ¤í†¤ | ì‚°ì¶œë¬¼ |
|:----:|----------|--------|
| 1-2 | ì§€ì‹ ì—”ì§„ êµ¬ì¶• | API ì—°ë™, Vector DB, Librarian Agent |
| 3-4 | ë¼ìš°íŒ…/ê²€ì¦ ë¡œì§ | Intent Classifier, Novelty Checker, PI Agent |
| 5-6 | ê°€ìƒ ë© êµ¬ì¶• | Docker Sandbox, Engineer Agent, Self-Healing |
| 7-8 | í†µí•©/ë¦¬í¬íŒ… | LangGraph ì—°ê²°, LaTeX ìƒì„±, Author/Critic Agent |

---

## 7. ê¸°ìˆ  ìŠ¤íƒ

```yaml
Language: Python 3.10+

Framework: 
  - LangChain (ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸)
  - LangGraph (ìƒíƒœ ê´€ë¦¬ + ìˆœí™˜ ì›Œí¬í”Œë¡œìš°)

LLM Provider: DAACS v2 CLI Assistant
  - claude_code: ì¶”ë¡ /ê¸°íš/ê²€ì¦ (ì½”ìŠ¤íŠ¸ ë¬´ë£Œ)
  - codex: ì½”ë“œ ìƒì„± íŠ¹í™” (ì½”ìŠ¤íŠ¸ ë¬´ë£Œ)
  - ì™¸ë¶€ API: Semantic Scholar ë“± ë°ì´í„° ìˆ˜ì§‘ìš©ë§Œ

Vector DB: PostgreSQL + pgvector
Sandbox: Docker
UI: Streamlit ë˜ëŠ” Chainlit
PDF: pylatex + pdflatex
```

---

## 8. í–¥í›„ í™•ì¥ ë°©í–¥

1. **Cloud Lab ì—°ë™**: ë¡œë´‡ íŒ” ì œì–´ â†’ ì‹¤ì œ ë¬¼ë¦¬ ì‹¤í—˜ ìˆ˜í–‰
2. **ë‹¤ì¤‘ ì‚¬ìš©ì í˜‘ì—…**: ì—¬ëŸ¬ ì—°êµ¬ìê°€ ê²°ê³¼ ê³µìœ /ê²€ì¦
3. **ìë™ ë…¼ë¬¸ íˆ¬ê³ **: arXiv ìë™ ì—…ë¡œë“œ ê¸°ëŠ¥

---

> ğŸ“Š **ì°¸ê³ ìë£Œ**: ë³¸ ê¸°íšì„œëŠ” AI Scientist (Sakana AI), Virtual Lab (zou-group), LangGraph Deep Research ë“± ìµœì‹  ì—°êµ¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
